webpackJsonp([1],{"F+Hq":function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({name:"App"},i,!1,function(t){e("F+Hq")},null,null).exports,l=e("/ocq"),n=e("Xxa5"),c=e.n(n),r=e("exGp"),d=e.n(r),m=null;function v(t,s){var e=document.getElementById("toast");null==e?((e=document.createElement("div")).id="toast",e.className="fd",e.innerText=t):e.style.opacity=.9,document.body.appendChild(e),s=s||1e3,m=setTimeout(function(){var t;null!=(t=document.getElementById("toast"))&&(document.body.removeChild(t),clearTimeout(m))},s)}var u,_="classList"in(u=document.createElement("div"))&&"function"==typeof u.classList.contains?function(t,s){return t.classList.contains(s)}:function(t,s){for(var e=t.className.split(/\s+/),a=0;a<e.length;a++)if(e[a]===s)return!0;return!1},p={data:function(){return{time:10,timeDesc:"",timer:null,showDot:!1,showTip:!1,mobile:"",showModalIndex:null,isLock:0,isEnd:2,myLottery:[],lotteryName:"",cardArrs:[],cardWidth:80,cardHeight:80,cardFlip:"",cardSelectedArr:[],cardSelectedNum:0,ruleContent:""}},mounted:function(){this.init()},methods:{init:function(){var t=this;return d()(c.a.mark(function s(){var e,a,i,o,l,n;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=t,a="http://satyr.io/80x80",i=new Date,o=[e.getFormatDate(i),e.getFormatDate("2048-10-24")],l=o[0],n=o[1],e.isEnd=e.timeContrast(l,n),e.time=10,e.timeDesc="记忆时间:",e.ruleContent="填写手机号，在记忆时间内看一遍所有卡牌，记忆时间（10秒）结束后开始游戏，游戏时间20秒，每点击一张卡牌后，需要找到相同的另一张卡牌即可配对成功，所有卡牌匹配完成后即可获得抽奖机会。",1!==e.isEnd){s.next=11;break}return e.showModal(6),s.abrupt("return");case 11:e.lotteryName="",e.cardSelectedNum=0,e.cardFlip="",e.cardArrs=[{index:0,logoImgUrl:a+"?flag=cze"},{index:5,logoImgUrl:a+"?brand=github"},{index:1,logoImgUrl:a+"?flag=svk"},{index:4,logoImgUrl:a+"?brand=apple"},{index:2,logoImgUrl:a+"?flag=che"},{index:3,logoImgUrl:a+"?brand=facebook"},{index:1,logoImgUrl:a+"?flag=svk"},{index:0,logoImgUrl:a+"?flag=cze"},{index:5,logoImgUrl:a+"?brand=github"},{index:2,logoImgUrl:a+"?flag=che"},{index:4,logoImgUrl:a+"?brand=apple"},{index:3,logoImgUrl:a+"?brand=facebook"}],t.$refs.cards&&e.cardArrs.forEach(function(t,s){e.$refs.cards[s].className="card"}),e.mobile=sessionStorage.getItem("CARD_MOBILE")||"",e.initStatus(0);case 18:case"end":return s.stop()}},s,t)}))()},initStatus:function(t){this.isLock=t||0,sessionStorage.setItem("CARD_ISLOCK",t||0)},startGame:function(){var t=this;if(1!==t.isEnd){var s=!!t.mobile.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/);t.mobile?11!=t.mobile.length||0==s?v("手机号码格式错误~"):(sessionStorage.setItem("CARD_MOBILE",t.mobile),v("准备开始记忆啦~",2e3),t.isLock=sessionStorage.getItem("CARD_ISLOCK"),0==t.isLock&&(t.initStatus(1),setTimeout(function(){t.cardFlip="card-flipped",t.countdown()},2500))):v("请输入手机号码~")}else v("活动已结束！谢谢参与。")},startPlaying:function(){var t=this;v("游戏开始，加油！"),setTimeout(function(){t.initStatus(2),t.countdown()},500)},clickCard:function(t,s){if(this.isLock=sessionStorage.getItem("CARD_ISLOCK"),2==this.isLock){var e=this.$refs.cards,a=e[s];if(_(a,"card-flipped"))return;if(this.cardSelectedArr.push({key:s,value:t}),e.className="card",a.className="card card-flipped",2==this.cardSelectedArr.length){var i=this;setTimeout(function(){i.cardSelectedArr[0].value!=i.cardSelectedArr[1].value?i.cardSelectedArr.forEach(function(t){e[t.key].className="card"}):(i.cardSelectedNum+=2,i.cardSelectedNum==i.cardArrs.length&&i.gameover()),i.cardSelectedArr=[]},400)}}else v("游戏还未开始！")},gameover:function(){clearTimeout(this.timer),this.showTip=!0,this.showModal(4),this.init()},lottery:function(){var t=["特等奖","一等奖","二等奖","三等奖","安慰奖"],s=Math.floor(Math.random()*(t.length+1));this.lotteryName=t[s],this.myLottery.push(this.lotteryName),this.showDot=!0,this.showModal(7)},myLotteryList:function(){this.mobile?(this.showModal(3),this.showDot=!1):v("请输入手机号码")},playAgain:function(){this.closeModal(),this.init(),this.startGame()},receive:function(){v("这里的逻辑自己看着写吧")},showModal:function(t){clearTimeout(this.timer),this.showModalIndex=t},closeModal:function(){var t=sessionStorage.getItem("CARD_ISLOCK");this.showModalIndex=null,null!=t&&0!=t&&this.countdown()},countdown:function(){var t=this;0==t.time?1==t.isLock?(t.cardFlip="",t.timeDesc="倒计时间:",t.time=20,t.startPlaying()):(t.timeDesc="记忆时间:",t.time=10,t.showTip=!1,t.showModal(5),t.init()):(t.time--,t.timer=setTimeout(function(){t.countdown()},1e3))},getFormatDate:function(t){var s=(t=new Date(t)).getFullYear(),e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),s+"-"+e+"-"+a},timeContrast:function(t,s){var e=new Date(Date.parse(t.replace(/-/g,"/")));return new Date(Date.parse(s.replace(/-/g,"/")))>e?2:1},replaceMobile:function(t,s,e){for(var a="",i=t.length,o=i-s-e,l=0;l<o;l++)a+="*";return t.substr(0,s)+a+t.substr(i-e)}}},h={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fw"},[e("div",{attrs:{id:"wrapper"}},[e("div",{staticClass:"fw pr",attrs:{id:"banner"}},[e("p",{staticClass:"tc rule_box"},[e("a",{staticClass:"rules",on:{click:function(s){return t.showModal(2)}}},[t._v("活动规则 >> ")])])]),t._v(" "),e("div",{staticClass:"tc",attrs:{id:"btns"}},[e("a",{staticClass:"fl btn btns_lf"},[e("span",{attrs:{id:"time_desc"}},[t._v(t._s(t.timeDesc))]),t._v(" "),e("span",{staticClass:"fr tc",attrs:{id:"time"}},[t._v(t._s(t.time))])]),t._v(" "),e("a",{staticClass:"btn btns_rt fr pr",on:{click:t.myLotteryList}},[e("span",[t._v("查看中奖纪录")]),t._v(" "),t.showDot?e("span",{attrs:{id:"dot"}}):t._e()])]),t._v(" "),e("div",{staticClass:"pr",attrs:{id:"card_box"}},[e("div",{attrs:{id:"cards"}},t._l(t.cardArrs,function(s,a){return e("div",{key:a,ref:"cards",refInFor:!0,staticClass:"card",class:{"card-flipped":t.cardFlip},style:{left:parseInt(t.cardWidth+13)*(a%3)+"px",top:parseInt(t.cardHeight+13)*Math.floor(a/3)+"px"},on:{click:function(e){return t.clickCard(s.index,a)}}},[e("div",{staticClass:"face front"}),t._v(" "),e("div",{staticClass:"face back",class:{flip:t.cardFlip},style:{backgroundImage:"url("+s.logoImgUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"}})])}),0),t._v(" "),0==t.isLock?e("div",{staticClass:"popover_ fw"},[e("div",{staticClass:"modal_"},[e("p",{staticClass:"tc rule_title"},[t._v("游戏玩法说明")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"tc",attrs:{id:"mobile_box"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"tc",attrs:{type:"tel",name:"mobile",maxlength:"11",placeholder:"请输入手机号码",id:"mobile_ipt"},domProps:{value:t.mobile},on:{input:function(s){s.target.composing||(t.mobile=s.target.value)}}})]),t._v(" "),e("p",{staticClass:"tc"},[e("a",{staticClass:"start",class:{active:t.mobile},on:{click:t.startGame}})])])]):t._e()])]),t._v(" "),e("div",{staticClass:"popover fw pf",class:[null==t.showModalIndex?"dn":""]},[2==t.showModalIndex?e("div",{staticClass:"modal m2"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"contents"},[e("p",{staticClass:"tc c-white"},[t._v(t._s(t.ruleContent))])]),t._v(" "),e("a",{staticClass:"close_btn",on:{click:t.closeModal}})]):t._e(),t._v(" "),3==t.showModalIndex?e("div",{staticClass:"modal m3"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"info tc"},[e("p",[t._v("请用手机号码"),e("span",{staticClass:"default_mobile"},[t._v(t._s(t.replaceMobile(t.mobile,3,4)))])]),t._v(" "),e("p",[t._v("快捷登录“APP”领取奖品")])]),t._v(" "),e("div",{staticClass:"contents tc"},[e("ul",{attrs:{id:"records"}},[t._l(t.myLottery,function(s,a){return t.myLottery.length?e("li",{key:a},[t._v(t._s(s))]):t._e()}),t._v(" "),t.myLottery.length?t._e():e("li",[t._v("暂无中奖记录")])],2),t._v(" "),e("p",[t.mobile?e("a",{staticClass:"modal_btns br20",attrs:{id:"receive_btn"},on:{click:t.receive}},[t._v("去领奖")]):t._e()])]),t._v(" "),e("a",{staticClass:"close_btn",on:{click:t.closeModal}})]):t._e(),t._v(" "),4==t.showModalIndex?e("div",{staticClass:"modal m4"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"contents tc"},[e("p",{staticClass:"modal_tips"},[t._v("恭喜您，获得了一次抽奖机会")]),t._v(" "),e("p",[e("a",{staticClass:"modal_btns active",attrs:{id:"lottery_btn"},on:{click:t.lottery}},[t._v("赶快去抽奖")])])])]):t._e(),t._v(" "),5==t.showModalIndex?e("div",{staticClass:"modal m5"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"contents tc"},[t.showTip?t._e():e("p",{staticClass:"modal_tips"},[t._v("手速不够快，再来一次！")]),t._v(" "),t.showTip?e("p",{staticClass:"modal_tips"},[t._v("太遗憾了，奖品与你擦肩而过")]):t._e(),t._v(" "),e("p",{staticClass:"fw oh"},[e("a",{staticClass:"modal_btns fl ls8",on:{click:t.closeModal}},[t._v("关闭")]),t._v(" "),e("a",{staticClass:"modal_btns fr",on:{click:t.playAgain}},[t._v("再玩一次")])])])]):t._e(),t._v(" "),6==t.showModalIndex?e("div",{staticClass:"modal m6"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"contents tc"},[e("p",{staticClass:"modal_tips"},[t._v("真遗憾，本次活动已经结束啦，下回趁早哦！")]),t._v(" "),e("p",[e("a",{staticClass:"modal_btns br20",on:{click:t.closeModal}},[t._v("知道了")])])]),t._v(" "),e("a",{staticClass:"close_btn",on:{click:t.closeModal}})]):t._e(),t._v(" "),7==t.showModalIndex?e("div",{staticClass:"modal m7"},[e("div",{staticClass:"head"}),t._v(" "),e("div",{staticClass:"contents"},[e("p",{staticClass:"modal_tips tc"},[t._v("恭喜您获得了："),e("span",{attrs:{id:"lottery_name"}},[t._v(t._s(t.lotteryName))]),t._v("哦～")]),t._v(" "),e("p",{staticClass:"fw oh"},[e("a",{staticClass:"modal_btns fl",on:{click:t.myLotteryList}},[t._v("查看奖品")]),t._v(" "),e("a",{staticClass:"modal_btns fr",on:{click:t.playAgain}},[t._v("再玩一次")])])]),t._v(" "),e("a",{staticClass:"close_btn",on:{click:t.closeModal}})]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"rule_desc"}},[s("p",[this._v("1. 在规定时间内，记忆牌面内容及位置；")]),this._v(" "),s("p",[this._v("2. 游戏中，点击任意两张牌，若相同则可翻开，规定时间内全部配对成功即过关；")]),this._v(" "),s("p",[this._v("3. 顺利过关可以获得一次抽奖机会。")])])}]};var f=e("VU/8")(p,h,!1,function(t){e("Y30K")},null,null).exports;a.a.use(l.a);var g=new l.a({routes:[{path:"/",name:"Home",component:f}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:g,components:{App:o},template:"<App/>"})},Y30K:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.ce5d69d19724d9709f2e.js.map