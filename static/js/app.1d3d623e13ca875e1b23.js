webpackJsonp([1],{"E5/Y":function(t,e){},HvJT:function(t,e){},NHnr:function(t,e,s){"use strict";function i(t){s("o5ws")}function n(t){s("X7Kl")}function a(t){s("sqdS")}function r(t){s("HvJT")}function o(t){s("E5/Y")}function l(t){s("xCS8")}function c(t){s("OPKg")}Object.defineProperty(e,"__esModule",{value:!0});var d=s("7+uW"),u={name:"app",data:function(){return{height:null}},mounted:function(){var t=window.innerHeight;this.height=t}},m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{style:{height:t.height+"px"},attrs:{id:"app"}},[s("keep-alive",{attrs:{include:"questionCom"}},[s("router-view")],1)],1)},p=[],v={render:m,staticRenderFns:p},f=v,h=s("VU/8"),_=i,I=h(u,f,!1,_,null,null),w=I.exports,C=s("/ocq"),g={data:function(){return{}}},b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index-page"},[s("router-link",{staticClass:"begin-btn",attrs:{to:{path:"/question"},tag:"button"}},[t._v("开始答题")])],1)},x=[],T={render:b,staticRenderFns:x},E=T,S=s("VU/8"),y=n,A=S(g,E,!1,y,null,null),$=A.exports,N=s("NYxO"),D={data:function(){return{}},activated:function(){this.$store.state.isDone||this.$store.commit("INTEVAL_TIME")},computed:{remainTime:function(){return this.$store.state.allTime},getMin:function(){var t=parseInt(this.remainTime/60);return t<10?"0"+t:t},getSec:function(){var t=this.remainTime%60;return t<10?"0"+t:t}},methods:{}},M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"time-score"},[s("div",{staticClass:"left-time"},[s("div",{staticClass:"time"},[s("div",{staticClass:"item"},[t._v(t._s(t.getMin))]),t._v(" "),s("div",{staticClass:"tag"},[t._v(":")]),t._v(" "),s("div",{staticClass:"item"},[t._v(t._s(t.getSec))])]),t._v(" "),s("div",{staticClass:"time-desc"},[t._v("考试结束倒计时")])]),t._v(" "),s("div",{staticClass:"score"},[s("svg",{attrs:{width:"1.733rem",height:"1.733rem",viewBox:"0 0 200 200",preserveAspectRatio:"xMinYMin slice",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[s("g",[s("circle",{attrs:{cx:"100",cy:"100",r:"98",stroke:"#ffde00","stroke-width":"6",fill:"#dd4b4b"}})]),t._v(" "),s("text",{staticStyle:{"font-size":"48pt",fill:"#fff"},attrs:{x:"45",y:"100"}},[t._v("100")]),t._v(" "),s("line",{staticStyle:{stroke:"#fff","stroke-width":"2"},attrs:{x1:"30",y1:"120",x2:"170",y2:"120"}}),t._v(" "),s("text",{staticStyle:{"font-size":"24pt",fill:"#fff"},attrs:{x:"55",y:"160"}},[t._v("总分数")])])]),t._v(" "),s("div",{staticClass:"begin-tip"},[t._v("答题开始咯")])])},R=[],F={render:M,staticRenderFns:R},k=F,q=s("VU/8"),L=a,P=q(D,k,!1,L,null,null),O=P.exports,V=s("Dd8w"),U=s.n(V),H={data:function(){return{}}},j=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"modal"}},[t._t("default",[t._v("obj is null")])],2)},z=[],B={render:j,staticRenderFns:z},K=B,Y=s("VU/8"),J=r,G=Y(H,K,!1,J,null,null),W=G.exports,X={data:function(){return{totalScore:0}},computed:U()({},Object(N.c)(["problems","answerId","score"]),{tipsType:function(){var t=this.answerId.length*this.score;return this.totalScore=t,70<t&&t<100?"荣获【学霸】的牛逼称号<br>苍老师都以你为荣":50<t&&t<70?"还差一点哦，加油！":t<50?"荣获【学渣】称号<br>老师都被你气的吐血了":void 0}}),methods:{shareBorad:function(){this.$store.commit("GET_RESULT",this.totalScore),this.$router.push("score")},againPlay:function(){this.$store.commit("CLEAR_TIME"),this.$router.push("/")}}},Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"doneModal"}},[s("div",{staticClass:"top-score"},[s("div",{staticClass:"tips"},[t._v("快看看成绩吧")]),t._v(" "),s("div",{staticClass:"score"},[s("span",{staticClass:"score-num",domProps:{textContent:t._s(t.answerId.length*t.score)}}),t._v(" "),s("span",{staticClass:"tag"},[t._v("分")])]),t._v(" "),s("div",{staticClass:"result"},[s("div",{staticClass:"item all"},[s("span",{staticClass:"num",domProps:{textContent:t._s(t.problems.length)}}),t._v(" "),s("span",{staticClass:"tag"},[t._v("答题")])]),t._v(" "),s("div",{staticClass:"item all"},[s("span",{staticClass:"num",domProps:{textContent:t._s(t.answerId.length)}}),t._v(" "),s("span",{staticClass:"tag"},[t._v("答对")])]),t._v(" "),s("div",{staticClass:"item all"},[s("span",{staticClass:"num",domProps:{textContent:t._s(t.problems.length-t.answerId.length)}}),t._v(" "),s("span",{staticClass:"tag"},[t._v("答题")])])])]),t._v(" "),s("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.tipsType)}}),t._v(" "),s("div",{staticClass:"btns"},[s("div",{staticClass:"row flex"},[s("button",{staticClass:"red-bg",on:{click:t.againPlay}},[t._v("再来一次")]),s("button",{staticClass:"yellow-bg",on:{click:t.shareBorad}},[t._v("考试排行榜")])]),t._v(" "),t._m(0)])])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("button",{staticClass:"green-bg share-btn"},[t._v("分享好友")])])}],tt={render:Z,staticRenderFns:Q},et=tt,st=s("VU/8"),it=o,nt=st(X,et,!1,it,null,null),at=nt.exports,rt={components:{modal:W,"done-modal":at},data:function(){return{chooseId:null,allScore:null}},created:function(){this.initData()},mounted:function(){},computed:U()({},Object(N.c)(["itemNum","allTime","timer","isDone","problems","answerId","resultScore"])),methods:U()({},Object(N.b)(["initData","addItem"]),{nextItem:function(){if(this.chooseId){var t={};t.answerId=this.chooseId.answerId,t.fid=this.chooseId.fid,this.chooseId=null,this.addItem(t)}else alert("请选择")},postAll:function(){if(this.chooseId){var t={};t.answerId=this.chooseId.answerId,t.fid=this.chooseId.fid,this.chooseId=null,this.addItem(t),clearInterval(this.timer),this.$store.commit("CLEAR_TIME"),this.$store.commit("IS_DONE",!0)}else alert("请选择")}})},ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-con"},[s("div",{staticClass:"num question-item"},[t._v("第"),s("span",{staticClass:"remain"},[t._v(t._s(t.itemNum+1))]),t._v(" 题")]),t._v(" "),s("div",{staticClass:"title question-item"},[t._v(t._s(t.problems[t.itemNum].problemTitle)+" "),s("span",{staticClass:"triangle"})]),t._v(" "),s("div",{staticClass:"question-lists"},t._l(t.problems[t.itemNum].answers,function(e,i){return s("li",{key:i},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseId,expression:"chooseId"}],attrs:{type:"radio",id:e.answerId,name:"answer"},domProps:{value:e,checked:t._q(t.chooseId,e)},on:{change:function(s){t.chooseId=e}}}),s("label",{attrs:{for:e.answerId}},[t._v(t._s(e.text))])])}),0),t._v(" "),s("div",{staticClass:"btns"},[t.itemNum<t.problems.length-1?s("button",{staticClass:"red-bg next-btn",on:{click:t.nextItem}},[t._v("下一题")]):s("button",{staticClass:"green-bg done-btn",on:{click:t.postAll}},[t._v("交卷")])]),t._v(" "),t.isDone?s("modal",[s("done-modal")],1):t._e()],1)},lt=[],ct={render:ot,staticRenderFns:lt},dt=ct,ut=s("VU/8"),mt=l,pt=ut(rt,dt,!1,mt,null,null),vt=pt.exports,ft={name:"questionCom",components:{"time-score":O,"question-item":vt},data:function(){return{}}},ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("keep-alive",[s("time-score")],1),t._v(" "),s("question-item")],1)},_t=[],It={render:ht,staticRenderFns:_t},wt=It,Ct=s("VU/8"),gt=Ct(ft,wt,!1,null,null,null),bt=gt.exports,xt={data:function(){return{rankList:[],uid:this.$store.state.userInfo.uid}},created:function(){var t=this;this.$http.get("api/rankList").then(function(e){t.rankList=e.data})},computed:{sortScore:function(){var t=this.rankList;return t.push(this.$store.state.userInfo),t.sort(this.sortFunc("score"))}},methods:{sortFunc:function(t){return function(e,s){var i=e[t];return s[t]-i}}}},Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"score-wrap"}},[s("div",{staticClass:"banner"}),t._v(" "),s("div",{staticClass:"list"},[t._m(0),t._v(" "),s("div",{staticClass:"list-con"},[s("ul",t._l(t.sortScore,function(e,i){return s("li",{class:{active:e.uid==t.uid}},[s("img",{staticClass:"avatar item",attrs:{src:e.avatar,alt:""}}),t._v(" "),s("span",{staticClass:"name item",domProps:{textContent:t._s(e.name)}}),t._v(" "),i<3?s("span",{staticClass:"top-num item top"}):s("span",{staticClass:"top-num item",domProps:{textContent:t._s(i+1)}}),t._v(" "),s("span",{staticClass:"score item"},[s("i",{domProps:{textContent:t._s(e.score)}},[t._v("40")]),t._v("分")])])}),0)])])])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-tag"},[s("span",{staticClass:"item"},[t._v("头像")]),t._v(" "),s("span",{staticClass:"item name"},[t._v("名称")]),t._v(" "),s("span",{staticClass:"item"},[t._v("排名")]),t._v(" "),s("span",{staticClass:"item"},[t._v("分数")])])}],St={render:Tt,staticRenderFns:Et},yt=St,At=s("VU/8"),$t=c,Nt=At(xt,yt,!1,$t,null,null),Dt=Nt.exports;d.a.use(C.a);var Mt,Rt=new C.a({routes:[{path:"/",name:"home",component:$},{path:"/question",name:"question",component:bt},{path:"/score",name:"score",component:Dt}]}),Ft=s("bOdI"),kt=s.n(Ft),qt=(Mt={},kt()(Mt,"INIT_DATA",function(t){t.itemNum=0,t.allTime=20,t.answerId=[],t.isDone=!1,localStorage.clear()}),kt()(Mt,"ADD_ITEM",function(t,e){t.itemNum===t.problems.length-1?t.itemNum=t.problems.length-1:t.itemNum+=e,console.log(t.itemNum)}),kt()(Mt,"REMEBER_ITEM",function(t,e){for(var s=t.problems,i=0;i<s.length;i++)if(s[i].problemId===e.fid)for(var n=0;n<s[i].answers.length;n++)s[i].answers[n].answerId===e.answerId&&s[i].answers[n].isTrue&&t.answerId.push(e)}),kt()(Mt,"INTEVAL_TIME",function(t){console.log("inteval",t.timer),t.timer=setInterval(function(){0===t.allTime?(clearInterval(t.timer),t.isDone=!0):t.allTime--},1e3)}),kt()(Mt,"CLEAR_TIME",function(t){t.timer=null}),kt()(Mt,"GET_RESULT",function(t,e){t.userInfo.score=e,localStorage.score=e}),kt()(Mt,"IS_DONE",function(t,e){t.isDone=e}),Mt),Lt={initData:function(t){(0,t.commit)("INIT_DATA")},addItem:function(t,e){var s=t.commit,i=t.state;console.log(e),s("REMEBER_ITEM",e),i.itemNum<i.problems.length&&s("ADD_ITEM",1)}};d.a.use(N.a);var Pt={score:20,allTime:20,itemNum:0,timer:null,problems:[{problemId:1,problemTitle:"奥林匹克运动会的发源地是？",answers:[{answerId:"a1",fid:1,text:"古罗马",isTrue:!1},{answerId:"a2",fid:1,text:"古希腊",isTrue:!0},{answerId:"a3",fid:1,text:"古代中国",isTrue:!1},{answerId:"a4",fid:1,text:"古巴比伦",isTrue:!1}]},{problemId:2,problemTitle:"咖啡的故乡是哪里？",answers:[{answerId:"a5",fid:2,text:"亚洲",isTrue:!1},{answerId:"a6",fid:2,text:"美洲",isTrue:!1},{answerId:"a7",fid:2,text:"大洋洲",isTrue:!1},{answerId:"a8",fid:2,text:"非洲",isTrue:!0}]},{problemId:3,problemTitle:"我国少数民族分布最多的省份？",answers:[{answerId:"a5",fid:3,text:"广西",isTrue:!1},{answerId:"a6",fid:3,text:"西藏",isTrue:!1},{answerId:"a7",fid:3,text:"云南",isTrue:!0},{answerId:"a8",fid:3,text:"四川",isTrue:!1}]},{problemId:4,problemTitle:"白菜属于什么科？",answers:[{answerId:"a9",fid:4,text:"豆科",isTrue:!1},{answerId:"a10",fid:4,text:"菊科",isTrue:!1},{answerId:"a11",fid:4,text:"十字花科",isTrue:!0},{answerId:"a12",fid:4,text:"蔷薇科",isTrue:!1}]},{problemId:5,problemTitle:"成人身上有多少块骨骼？",answers:[{answerId:"a13",fid:5,text:"205",isTrue:!1},{answerId:"a14",fid:5,text:"206",isTrue:!0},{answerId:"a15",fid:5,text:"207",isTrue:!1},{answerId:"a16",fid:5,text:"208",isTrue:!1}]}],answerId:[],userInfo:{name:"我就是当前用户",avatar:"/static/8.jpg",score:parseInt(localStorage.score)||0,uid:"u2017"},isDone:!1},Ot=new N.a.Store({state:Pt,actions:Lt,mutations:qt}),Vt=(s("ZpAt"),s("mtWM")),Ut=s.n(Vt);d.a.config.productionTip=!1,d.a.config.debug=!0,d.a.prototype.$http=Ut.a,new d.a({el:"#app",router:Rt,store:Ot,template:"<App/>",components:{App:w}}),Rt.beforeEach(function(t,e,s){Ot.state.isDone;console.log(t.path),console.log(e.path),"/question"===t.path&&"/score"===e.path?(Ot.commit("IS_DONE",!0),s()):"/"===e.path?(Ot.commit("INIT_DATA"),s()):s()})},OPKg:function(t,e){},X7Kl:function(t,e){},ZpAt:function(t,e){!function(t,e){function s(){var e=a.getBoundingClientRect().width;e/l>540&&(e=540*l);var s=e/10;a.style.fontSize=s+"px",d.rem=t.rem=s}var i,n=t.document,a=n.documentElement,r=n.querySelector('meta[name="viewport"]'),o=n.querySelector('meta[name="flexible"]'),l=0,c=0,d=e.flexible||(e.flexible={});if(r){console.warn("将根据已有的meta标签来设置缩放比例");var u=r.getAttribute("content").match(/initial\-scale=([\d\.]+)/);u&&(c=parseFloat(u[1]),l=parseInt(1/c))}else if(o){var m=o.getAttribute("content");if(m){var p=m.match(/initial\-dpr=([\d\.]+)/),v=m.match(/maximum\-dpr=([\d\.]+)/);p&&(l=parseFloat(p[1]),c=parseFloat((1/l).toFixed(2))),v&&(l=parseFloat(v[1]),c=parseFloat((1/l).toFixed(2)))}}if(!l&&!c){var f=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),h=t.devicePixelRatio;l=f?h>=3&&(!l||l>=3)?3:h>=2&&(!l||l>=2)?2:1:1,c=1/l}if(a.setAttribute("data-dpr",l),!r)if(r=n.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(r);else{var _=n.createElement("div");_.appendChild(r),n.write(_.innerHTML)}t.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(s,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(i),i=setTimeout(s,300))},!1),"complete"===n.readyState?n.body.style.fontSize=12*l+"px":n.addEventListener("DOMContentLoaded",function(t){n.body.style.fontSize=12*l+"px"},!1),s(),d.dpr=t.dpr=l,d.refreshRem=s,d.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},d.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},o5ws:function(t,e){},sqdS:function(t,e){},xCS8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1d3d623e13ca875e1b23.js.map